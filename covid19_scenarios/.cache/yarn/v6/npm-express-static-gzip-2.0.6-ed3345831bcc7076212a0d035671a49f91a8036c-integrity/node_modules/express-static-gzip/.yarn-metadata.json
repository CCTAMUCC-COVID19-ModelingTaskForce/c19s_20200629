{
  "manifest": {
    "name": "express-static-gzip",
    "version": "2.0.6",
    "description": "simple wrapper on top of express.static, that allows serving pre-gziped files",
    "main": "index.js",
    "scripts": {
      "test": "mocha test/*.spec.js"
    },
    "keywords": [
      "express",
      "static",
      "gzip",
      "brotli",
      "serve"
    ],
    "author": {
      "name": "Tobias Koenig",
      "email": "tobiaskoenig1@gmail.com"
    },
    "repository": {
      "type": "git",
      "url": "https://github.com/tkoenig89/express-static-gzip"
    },
    "license": "MIT",
    "dependencies": {
      "serve-static": "^1.14.1"
    },
    "devDependencies": {
      "chai": "^4.1.2",
      "express": "^4.16.3",
      "mocha": "^5.2.0",
      "request": "^2.87.0"
    },
    "_registry": "npm",
    "_loc": "/home/ekrell/Documents/Work/repos/COVID19/c19s_20200629/covid19_scenarios/.cache/yarn/v6/npm-express-static-gzip-2.0.6-ed3345831bcc7076212a0d035671a49f91a8036c-integrity/node_modules/express-static-gzip/package.json",
    "readmeFilename": "README.md",
    "readme": "\n# express-static-gzip\n\n[![npm][npm-version-image]][npm-url]\n[![npm][npm-downloads-image]][npm-url]\n[![Donate][donate-paypal-image]][donate-url]\n\nProvides a small layer on top of *serve-static*, which allows to serve pre-gzipped files. Supports *brotli* and allows configuring any other compression you can think of as well.\n\nIf `express-static-gzip` saved you some time, feel free to buy me a cup of coffee :) [![Donate][donate-paypal-image]][donate-url]\n\n\n# Requirements\nFor the `express-static-gzip` middleware to work properly you need to first ensure that you have all files gzipped (or compressed with your desired algorithm) which you want to serve as a compressed version to the browser.\nSimplest use case is to either have a folder with only .gz files, or you have a folder with the .gz files next to the original files. Same goes for other compressions.\n\n# Install\n\n```bash\n    $ npm install express-static-gzip\n```\n\n# Changelog for v2.0\n\n* Even so this is a mayor release, this should be fully backwards compatible and should not have any breaking change to v1.1.3.\n\n* Moved all options for `serverStatic` in it's own section, to prevent collisions when setting up your static fileserving middleware. \n\n* For backwards compatibility all root options that apply to `serveStatic` will be copied to the new `serverStatic` section, except if you have set values there already (no overwrite). Here is a small example of this behaviour:\n    ```JavaScript\n    {\n        enableBrotli: true,         // not a serverStatic option, will not be moved\n        maxAge: 123,                // not copied, as already present.\n        index: 'main.js',           // copied to serveStatic section\n        serveStatic: {\n            maxAge: 234,            // will be kept \n            cacheControl: false     // will be kept as well\n        }\n    }\n    ```\n\n    In the above scenario serveStatic will use `cacheControl`: false, `index`: 'main.js', `maxAge`:234.\n\n\n# Usage\nIn case you just want to serve gzipped files only, this simple example would do:\n\n```javascript\nvar express = require(\"express\");\nvar expressStaticGzip = require(\"express-static-gzip\");\nvar app = express();\n\napp.use(\"/\", expressStaticGzip(\"/my/rootFolder/\"));\n```\n\nWhile gzip compression is always enabled you now have the choice to add other types of compressions using the *options* object. Currently *brotli* can be enabled using the **options.enableBrotli** flag.\nAll other compressions need to be added by passing an array to **options.customCompressions**.\nThe *options.serveStatic* section is passed to the underlying `serve-static` middleware, in case you want to configure this one as well.\n\nThe following example will show how to add brotli and deflate(with file extension *.zz*) to the middleware (it will still support gzip) and force brotli to be used if available (`orderPreference`):\n\n```javascript\nvar express = require('express');\nvar expressStaticGzip = require('express-static-gzip');\nvar app = express();\n\napp.use('/', expressStaticGzip('/my/rootFolder/', {\n    enableBrotli: true,\n    customCompressions: [{\n        encodingName: 'deflate',\n        fileExtension: 'zz'\n    }],\n    orderPreference: ['br']\n}));\n```\n\nCompressions are selected in the following order if a file is requested from the middleware:\n* any encoding listed in `option.orderPreference` and supported by the client\n* in order of the requests 'accept-encoding' header content (if no quality if provided)\n* in order of their respective quality (if provided)\n* in case of a wildcard '*', the compression is selected in alphabetical order (for now)\n* plain file (in case no compression exists or none is matching the browsers accept-encoding header)\n\nFor more details see [here](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding), but not all of it is implemented at the moment.\n\nWhen the middleware is created it will check the given root folder and all subfolders for files matching the registered compression. **Adding files later to the folder will not be recognized by the middleware.**\n\n# Available options\n\n* **`enableBrotli`**: boolean (default: **false**)\n\n    Enables support for the brotli compression, using file extension 'br' (e.g. 'index.html.br').\n    \n* **`index`**: boolean | string (default: 'index.html')\n        \n    By default this module will send \"index.html\" files in response to a request on a directory (url ending with '/'). To disable this set false or to supply a new index file pass a string (like 'index.htm').\n\n* **`customCompressions`**: [{encodingName: string, fileExtension: string}]\n\n    Using this option, you can add any other compressions you would like. `encodingName` will be checked against the `Accept`-Header. `fileExtension` is used to find files using this compression. `fileExtension` does not require a dot (not ~~'.gz'~~, but `'gz'`).\n\n* **`orderPreference`**: string[]\n\n    This options allows overwriting the client's requested encoding preference (see [MDN](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding)) with a server side preference. Any encoding listed in `orderPreference` will be used first (if supported by the client) before falling back to the client's supported encodings. The order of entries in `orderPreference` is taken into account.\n\n* **`serveStatic`**: [ServeStaticOptions](https://github.com/expressjs/serve-static#options)\n    \n    This will be forwarded to the underlying `serveStatic` instance used by `expressStaticGzip`\n\n# Behavior warning\n\nIn default mode a request for \"/\" or \"\\<somepath\\>/\" will serve index.html as compressed version. This could lead to **complications if you are serving a REST API** from the same path, when *express-server-static* is registered before your API. \n\nOne solution would be to register *express-server-static* last. Otherweise you can set **options.index** to false:\n\n```javascript\napp.use(\"/\", expressStaticGzip(\"/my/rootFolder/\", { index: false }));\n```\n\nBecause this middleware was developed for a static production server use case to maximize performance, it is designed to look up and cache the compressed files corresponding to uncompressed file names on startup.  This means that it will not be aware of compressed files being added or removed later on.\n\n# Example\nIn case you have the following basic file structure\n\n* rootFolder\n    * index.html\n    * index.html.gz\n    * index.html.br\n    * test.html.gz\n    * main.js\n\nand you use set the *enableBrotli* flag to true, express-static-gzip will answer GET requests like this:\n\n> GET / >>> /my/rootFolder/index.html.br\n\n> GET /index.html >>> /my/rootFolder/index.html.br\n\n> GET /test.html >>> /my/rootFolder/test.html.gz\n\n> GET /main.js >>> /my/rootFolder/main.js\n\n\n[npm-url]: https://www.npmjs.com/package/express-static-gzip\n[npm-downloads-image]: https://img.shields.io/npm/dw/express-static-gzip\n[npm-version-image]: https://img.shields.io/npm/v/express-static-gzip\n[donate-paypal-image]: https://img.shields.io/badge/Donate-PayPal-green.svg\n[donate-url]: https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=J8F2P79BKCTG8\n",
    "licenseText": "MIT License\n\nCopyright (c) 2016 TK\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/express-static-gzip/-/express-static-gzip-2.0.6.tgz#ed3345831bcc7076212a0d035671a49f91a8036c",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/express-static-gzip/-/express-static-gzip-2.0.6.tgz",
    "hash": "ed3345831bcc7076212a0d035671a49f91a8036c",
    "integrity": "sha512-RWpcgN8NkbOZLXQ14tVzM0nEZpb9GGVt5vGGECzy1CU5Og1AMdKSoU15k2xtTYKN34t4HC3qCXrHvxnTqcG1iw==",
    "registry": "npm",
    "packageName": "express-static-gzip",
    "cacheIntegrity": "sha512-RWpcgN8NkbOZLXQ14tVzM0nEZpb9GGVt5vGGECzy1CU5Og1AMdKSoU15k2xtTYKN34t4HC3qCXrHvxnTqcG1iw== sha1-7TNFgxvMcHYhKg0DVnGkn5GoA2w="
  },
  "registry": "npm",
  "hash": "ed3345831bcc7076212a0d035671a49f91a8036c"
}