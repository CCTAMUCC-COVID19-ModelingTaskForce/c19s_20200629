{"ast":null,"code":"import _pt from \"prop-types\";\n\nvar _jsxFileName = \"/home/ekrell/Documents/Work/repos/COVID19/c19s_20200629/covid19_scenarios/src/components/Main/Controls/ModalButtonSharing.tsx\",\n    _s = $RefreshSig$();\n\nimport urlJoin from 'proper-url-join';\nimport React, { useState, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row, ModalFooter, InputGroup, InputGroupAddon } from 'reactstrap';\nimport { MdShare } from 'react-icons/md';\nimport { EmailIcon, EmailShareButton, FacebookIcon, FacebookShareButton, LinkedinIcon, LinkedinShareButton, TwitterIcon, TwitterShareButton, VKIcon, VKShareButton, WeiboIcon, WeiboShareButton, WhatsappIcon, WhatsappShareButton } from 'react-share';\nimport { toUrl } from '../../../io/serialization/toUrl';\nimport { selectScenarioParameters } from '../../../state/scenario/scenario.selectors';\nimport { ClipboardButton } from '../../Buttons/ClipboardButton';\nimport { UrlTextInput } from './UrlTextInput';\nimport './ModalButtonSharing.scss';\nconst SOCIAL_ICON_SIZE = 44;\n\nconst mapStateToProps = state => ({\n  senarioParameters: selectScenarioParameters(state)\n});\n\nconst mapDispatchToProps = {};\nexport function ModalButtonSharingDisconnected({\n  buttonSize,\n  senarioParameters\n}) {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const [isOpen, setIsOpen] = useState(false);\n  const shareableLink = useMemo(() => {\n    var _window;\n\n    return decodeURI(urlJoin((_window = window) === null || _window === void 0 ? void 0 : _window.location.href, toUrl(senarioParameters)));\n  }, [senarioParameters]);\n\n  function toggleOpen() {\n    setIsOpen(!isOpen);\n  }\n\n  function open() {\n    setIsOpen(true);\n  }\n\n  function close() {\n    setIsOpen(false);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-simulation-controls\",\n    type: \"button\",\n    onClick: open,\n    title: t(`Share a direct link to this simulation`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MdShare, {\n    size: buttonSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    className: \"sharing-modal\",\n    centered: true,\n    isOpen: isOpen,\n    toggle: toggleOpen,\n    fade: false,\n    autoFocus: false,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MdShare, {\n    size: 30,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"ml-2 d-inline align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, t('Share'))), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, t(`Copy shareable link`)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mx-auto shareable-link-explanation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, t(`This shareable link encodes all scenario parameters in the URL itself.`)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, t(`When later navigated to this link, these parameters will be restored.`))))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(UrlTextInput, {\n    className: \"h-100\",\n    text: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ClipboardButton, {\n    textToCopy: shareableLink,\n    className: \"url-copy-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }))))))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, t(`Send in email or share on social media`)))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(EmailShareButton, {\n    subject: `COVID-19 Scenarios`,\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Send in an Email`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(EmailIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }, `Email`))), /*#__PURE__*/React.createElement(TwitterShareButton, {\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Share on Twitter`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TwitterIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 23\n    }\n  }, `Twitter`))), /*#__PURE__*/React.createElement(FacebookShareButton, {\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Share on Facebook`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FacebookIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  }, `Facebook`))), /*#__PURE__*/React.createElement(WhatsappShareButton, {\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Share on WhatsApp`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(WhatsappIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 23\n    }\n  }, `WhatsApp`))), /*#__PURE__*/React.createElement(LinkedinShareButton, {\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Share on LinkedIn`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(LinkedinIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 23\n    }\n  }, `LinkedIn`))), /*#__PURE__*/React.createElement(VKShareButton, {\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Share on VK`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(VKIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 23\n    }\n  }, `VK`))), /*#__PURE__*/React.createElement(WeiboShareButton, {\n    url: shareableLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-sharing\",\n    title: `Share on Weibo`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(WeiboIcon, {\n    size: SOCIAL_ICON_SIZE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 23\n    }\n  }, `Weibo`)))))))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"close-button\",\n    type: \"button\",\n    onClick: close,\n    title: t(`Cancel`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, t(`Close`))))));\n}\n\n_s(ModalButtonSharingDisconnected, \"c3iSAfhjoIpcWP/5qVninNTRXJY=\", false, function () {\n  return [useTranslation];\n});\n\n_c = ModalButtonSharingDisconnected;\nModalButtonSharingDisconnected.propTypes = {\n  buttonSize: _pt.number.isRequired\n};\nexport const ModalButtonSharing = connect(mapStateToProps, mapDispatchToProps)(ModalButtonSharingDisconnected);\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalButtonSharingDisconnected\");","map":{"version":3,"sources":["/home/ekrell/Documents/Work/repos/COVID19/c19s_20200629/covid19_scenarios/src/components/Main/Controls/ModalButtonSharing.tsx"],"names":["urlJoin","React","useState","useMemo","connect","useTranslation","Button","Col","Modal","ModalBody","ModalHeader","Row","ModalFooter","InputGroup","InputGroupAddon","MdShare","EmailIcon","EmailShareButton","FacebookIcon","FacebookShareButton","LinkedinIcon","LinkedinShareButton","TwitterIcon","TwitterShareButton","VKIcon","VKShareButton","WeiboIcon","WeiboShareButton","WhatsappIcon","WhatsappShareButton","toUrl","selectScenarioParameters","ClipboardButton","UrlTextInput","SOCIAL_ICON_SIZE","mapStateToProps","state","senarioParameters","mapDispatchToProps","ModalButtonSharingDisconnected","buttonSize","t","isOpen","setIsOpen","shareableLink","decodeURI","window","location","href","toggleOpen","open","close","ModalButtonSharing"],"mappings":"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","sourcesContent":["import urlJoin from 'proper-url-join'\nimport React, { useState, useMemo } from 'react'\n\nimport { connect } from 'react-redux'\nimport { useTranslation } from 'react-i18next'\nimport { Button, Col, Modal, ModalBody, ModalHeader, Row, ModalFooter, InputGroup, InputGroupAddon } from 'reactstrap'\nimport { MdShare } from 'react-icons/md'\n\nimport {\n  EmailIcon,\n  EmailShareButton,\n  FacebookIcon,\n  FacebookShareButton,\n  LinkedinIcon,\n  LinkedinShareButton,\n  TwitterIcon,\n  TwitterShareButton,\n  VKIcon,\n  VKShareButton,\n  WeiboIcon,\n  WeiboShareButton,\n  WhatsappIcon,\n  WhatsappShareButton,\n} from 'react-share'\n\nimport { ScenarioParameters } from '../../../algorithms/types/Param.types'\nimport { toUrl } from '../../../io/serialization/toUrl'\n\nimport type { State } from '../../../state/reducer'\nimport { selectScenarioParameters } from '../../../state/scenario/scenario.selectors'\n\nimport { ClipboardButton } from '../../Buttons/ClipboardButton'\nimport { UrlTextInput } from './UrlTextInput'\n\nimport './ModalButtonSharing.scss'\n\nconst SOCIAL_ICON_SIZE = 44\n\nexport interface ModalButtonSharingProps {\n  buttonSize: number\n  senarioParameters: ScenarioParameters\n}\n\nconst mapStateToProps = (state: State) => ({\n  senarioParameters: selectScenarioParameters(state),\n})\n\nconst mapDispatchToProps = {}\n\nexport function ModalButtonSharingDisconnected({ buttonSize, senarioParameters }: ModalButtonSharingProps) {\n  const { t } = useTranslation()\n  const [isOpen, setIsOpen] = useState<boolean>(false)\n  const shareableLink = useMemo(() => decodeURI(urlJoin(window?.location.href, toUrl(senarioParameters))), [\n    senarioParameters,\n  ])\n\n  function toggleOpen() {\n    setIsOpen(!isOpen)\n  }\n\n  function open() {\n    setIsOpen(true)\n  }\n\n  function close() {\n    setIsOpen(false)\n  }\n\n  return (\n    <>\n      <Button\n        className=\"btn-simulation-controls\"\n        type=\"button\"\n        onClick={open}\n        title={t(`Share a direct link to this simulation`)}\n      >\n        <MdShare size={buttonSize} />\n      </Button>\n      <Modal\n        className=\"sharing-modal\"\n        centered\n        isOpen={isOpen}\n        toggle={toggleOpen}\n        fade={false}\n        autoFocus={false}\n        size=\"lg\"\n      >\n        <ModalHeader toggle={close}>\n          <MdShare size={30} />\n          <h3 className=\"ml-2 d-inline align-middle\">{t('Share')}</h3>\n        </ModalHeader>\n        <ModalBody>\n          <Row>\n            <Col>\n              <Row>\n                <Col>\n                  <h4 className=\"text-center\">{t(`Copy shareable link`)}</h4>\n\n                  <div className=\"mx-auto shareable-link-explanation\">\n                    <p className=\"mb-0 text-center\">\n                      {t(`This shareable link encodes all scenario parameters in the URL itself.`)}\n                    </p>\n                    <p className=\"text-center\">\n                      {t(`When later navigated to this link, these parameters will be restored.`)}\n                    </p>\n                  </div>\n                </Col>\n              </Row>\n\n              <Row className=\"mt-3\">\n                <Col>\n                  <InputGroup>\n                    <UrlTextInput className=\"h-100\" text={shareableLink} />\n                    <InputGroupAddon addonType=\"append\">\n                      <ClipboardButton textToCopy={shareableLink} className=\"url-copy-button\" />\n                    </InputGroupAddon>\n                  </InputGroup>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n\n          <Row className=\"mt-5\">\n            <Col className=\"text-center\">\n              <Row>\n                <Col>\n                  <h4 className=\"text-center\">{t(`Send in email or share on social media`)}</h4>\n                </Col>\n              </Row>\n\n              <Row className=\"mt-3\">\n                <Col className=\"text-center\">\n                  <EmailShareButton subject={`COVID-19 Scenarios`} url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Send in an Email`}>\n                      <EmailIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`Email`}</div>\n                    </div>\n                  </EmailShareButton>\n\n                  <TwitterShareButton url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Share on Twitter`}>\n                      <TwitterIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`Twitter`}</div>\n                    </div>\n                  </TwitterShareButton>\n\n                  <FacebookShareButton url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Share on Facebook`}>\n                      <FacebookIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`Facebook`}</div>\n                    </div>\n                  </FacebookShareButton>\n\n                  <WhatsappShareButton url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Share on WhatsApp`}>\n                      <WhatsappIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`WhatsApp`}</div>\n                    </div>\n                  </WhatsappShareButton>\n\n                  <LinkedinShareButton url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Share on LinkedIn`}>\n                      <LinkedinIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`LinkedIn`}</div>\n                    </div>\n                  </LinkedinShareButton>\n\n                  <VKShareButton url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Share on VK`}>\n                      <VKIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`VK`}</div>\n                    </div>\n                  </VKShareButton>\n\n                  <WeiboShareButton url={shareableLink}>\n                    <div className=\"btn-sharing\" title={`Share on Weibo`}>\n                      <WeiboIcon size={SOCIAL_ICON_SIZE} />\n                      <div>{`Weibo`}</div>\n                    </div>\n                  </WeiboShareButton>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </ModalBody>\n        <ModalFooter>\n          <Button className=\"close-button\" type=\"button\" onClick={close} title={t(`Cancel`)}>\n            <div>{t(`Close`)}</div>\n          </Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  )\n}\n\nexport const ModalButtonSharing = connect(mapStateToProps, mapDispatchToProps)(ModalButtonSharingDisconnected)\n"]},"metadata":{},"sourceType":"module"}