"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@eirba/ieee754"),e=require("fs"),s=require("jest-snapshot"),n=function(){function t(t){this.currentTestName=t.currentTestName,this.snapshotState=t.snapshotState,this.error=t.error,this.incrementCounters(),this.hasSnapshot=void 0!==this.getSnapshot()}var n,a=t.prototype;return a.incrementCounters=function(){this.snapshotState._counters.set(this.currentTestName,(this.snapshotState._counters.get(this.currentTestName)||0)+1)},a.markSnapshotsAsCheckedForTest=function(){this.snapshotState.markSnapshotsAsCheckedForTest(this.currentTestName)},a.getSnapshot=function(){return this.snapshotState._snapshotData[this.key]},a.setSnapshot=function(t){this.snapshotState._snapshotData[this.key]=t},a.couldAddSnapshot=function(){return this.hasSnapshot&&"all"===this.snapshotState._updateSnapshot||(!this.hasSnapshot||!this.snapshotIsPersisted)&&("new"===this.snapshotState._updateSnapshot||"all"===this.snapshotState._updateSnapshot)},a.updateTally=function(t){this.couldAddSnapshot()?"all"===this.snapshotState._updateSnapshot?t?this.snapshotState.matched++:this.hasSnapshot?this.snapshotState.updated++:this.snapshotState.added++:this.snapshotState.added++:t?this.snapshotState.matched++:this.snapshotState.unmatched++},a.addSnapshot=function(t){this.snapshotState._addSnapshot(this.key,t,{error:this.error,isInline:!1})},(n=[{key:"count",get:function(){return Number(this.snapshotState._counters.get(this.currentTestName))}},{key:"key",get:function(){return s.utils.testNameToKey(this.currentTestName,this.count)}},{key:"snapshotIsPersisted",get:function(){return e.existsSync(this.snapshotState._snapshotPath)}}])&&function(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(t.prototype,n),t}();function a(t){return JSON.stringify(t)}exports.toBeCloseToArraySnapshot=function(e,s){void 0===s&&(s=BigInt(4));var o=new n(this),r=function(t){try{return function(t){return JSON.parse(t)}(t)}catch(t){return[]}}(o.getSnapshot()),h=function(e,s,n){return e.length===s.length&&e.every((function(a,o){return t.ulpDistance(e[o],s[o])<=n}))}(r,e,s);return o.markSnapshotsAsCheckedForTest(),h&&o.setSnapshot(a(e)),o.updateTally(h),o.couldAddSnapshot()?(o.addSnapshot(a(e)),{message:function(){return""},pass:!0}):h?{message:function(){return""},actual:a(e),count:o.count,expected:"",key:o.key,pass:!0}:{message:function(){return"expected: "+r+"\n received: "+e},actual:a(e),count:o.count,expected:a(r),key:o.key,pass:!1}},exports.toBeCloseToNumber=function(e,s,n){void 0===n&&(n=BigInt(4));var a=t.ulpDistance(s,e);return a<=n?{message:function(){return"received ("+e+") and expected ("+s+") have a ULP distance of "+a+" which does not exceed the maximum ULP distance of "+n+"."},pass:!0}:{message:function(){return"received ("+e+") and expected ("+s+") have a ULP distance of "+a+" ULP which exceeds maximum of "+n+"."},pass:!1}};
//# sourceMappingURL=jest-ieee754.cjs.production.min.js.map
